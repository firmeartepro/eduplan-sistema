<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduPlan - Sistema de Planejamento Educacional</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div>
                <div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100">
                    <span class="text-2xl">üìö</span>
                </div>
                <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
                    EduPlan - Fundamental 1
                </h2>
                <p class="mt-2 text-center text-sm text-gray-600">
                    Sistema de Planejamento Educacional
                </p>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="bg-white rounded-lg shadow-md p-8">
                <form class="space-y-6" onsubmit="handleLogin(event)">
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">
                            Email
                        </label>
                        <input id="email" name="email" type="email" required 
                               class="mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"
                               placeholder="seu@email.com">
                    </div>
                    
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700">
                            Senha
                        </label>
                        <input id="password" name="password" type="password" required 
                               class="mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"
                               placeholder="Sua senha">
                    </div>

                    <div>
                        <button type="submit" 
                                class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Entrar
                        </button>
                    </div>

                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Acesso</label>
                            <select id="userType" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                <option value="professor">üë®‚Äçüè´ Professor</option>
                                <option value="coordenacao">üë©‚Äçüíº Coordena√ß√£o</option>
                                <option value="direcao">üèõÔ∏è Dire√ß√£o</option>
                            </select>
                        </div>
                        
                        <div class="text-center">
                            <p class="text-gray-600 text-sm">Acesso restrito - Entre em contato com o administrador para criar sua conta</p>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Loading -->
            <div id="loading" class="hidden text-center">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"></div>
                <p class="mt-2 text-gray-600">Entrando...</p>
            </div>

            <!-- Error Message -->
            <div id="errorMessage" class="hidden bg-red-50 border border-red-200 rounded-md p-4">
                <div class="flex">
                    <div class="ml-3">
                        <h3 class="text-sm font-medium text-red-800">
                            Erro no login
                        </h3>
                        <div class="mt-2 text-sm text-red-700" id="errorText">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <!-- Scripts locais -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>

    <script>
        console.log('=== INICIANDO LOGIN ===');

        // Verificar se j√° est√° logado
        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                console.log('Usu√°rio j√° logado, redirecionando...');
                window.location.href = 'dashboard.html';
            }
        });

        // Handle login
        async function handleLogin(event) {
            event.preventDefault();
            console.log('Tentativa de login...');
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const userType = document.getElementById('userType').value;
            
            showLoading(true);
            hideError();
            
            try {
                await signInUser(email, password);
                
                // Salvar tipo de usu√°rio no localStorage
                localStorage.setItem('userType', userType);
                
                console.log('Login bem-sucedido!');
                window.location.href = 'dashboard.html';
            } catch (error) {
                console.error('Erro no login:', error);
                showError(getErrorMessage(error.code));
                showLoading(false);
            }
        }

        function showLoading(show) {
            document.getElementById('loading').classList.toggle('hidden', !show);
            document.getElementById('loginForm').classList.toggle('hidden', show);
        }

        function showError(message) {
            document.getElementById('errorText').textContent = message;
            document.getElementById('errorMessage').classList.remove('hidden');
        }

        function hideError() {
            document.getElementById('errorMessage').classList.add('hidden');
        }

        function getErrorMessage(errorCode) {
            switch (errorCode) {
                case 'auth/user-not-found':
                    return 'Usu√°rio n√£o encontrado. Verifique o email.';
                case 'auth/wrong-password':
                    return 'Senha incorreta.';
                case 'auth/invalid-email':
                    return 'Email inv√°lido.';
                case 'auth/user-disabled':
                    return 'Conta desabilitada.';
                case 'auth/too-many-requests':
                    return 'Muitas tentativas. Tente novamente mais tarde.';
                default:
                    return 'Erro no login. Tente novamente.';
            }
        }

        console.log('=== SCRIPT DE LOGIN CARREGADO ===');
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'980c17c615c39a86',t:'MTc1ODE0ODY5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html><!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduPlan - Sistema de Planejamento Educacional</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
            <p class="text-gray-600">Carregando EduPlan...</p>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-6">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-gray-900">üìö EduPlan - Fundamental 1</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span id="userName" class="text-gray-700">Carregando...</span>
                    <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">
                        Sair
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <div class="px-4 py-6 sm:px-0">
            <div class="bg-white overflow-hidden shadow rounded-lg">
                <div class="px-4 py-5 sm:p-6">
                    <h2 class="text-lg font-medium text-gray-900 mb-4">Planejamento para Ensino Fundamental 1</h2>
                    <p class="text-gray-600 mb-6">Gerencie suas disciplinas e planeje suas aulas conforme a BNCC.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4" id="mainButtons">
                        <!-- Bot√µes ser√£o carregados dinamicamente baseado no tipo de usu√°rio -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div id="contentArea" class="px-4 sm:px-0 mt-6">
            <!-- Content will be loaded here -->
        </div>
    </main>

    <!-- Modal Turmas -->
    <div id="turmasModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full p-6 max-h-96 overflow-y-auto">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Configurar Minhas Turmas</h3>
                
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-medium text-gray-700">Minhas Turmas:</h4>
                        <button onclick="addNewTurma()" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm">
                            + Nova Turma
                        </button>
                    </div>
                    <div id="turmasContainer" class="space-y-3">
                        <!-- Turmas ser√£o carregadas aqui -->
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3">
                    <button onclick="closeTurmasModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg">
                        Fechar
                    </button>
                    <button onclick="saveTurmasConfig()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                        Salvar Turmas
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Disciplinas -->
    <div id="disciplinasModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-4xl w-full p-6 max-h-96 overflow-y-auto">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Configurar Minhas Disciplinas e Hor√°rios</h3>
                
                <div class="mb-6">
                    <h4 class="font-medium text-gray-700 mb-3">Selecione suas disciplinas da BNCC:</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="disciplinasContainer">
                        <!-- Ser√° preenchido via JavaScript -->
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3">
                    <button onclick="closeDisciplinasModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg">
                        Fechar
                    </button>
                    <button onclick="saveDisciplinasConfig()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                        Salvar Configura√ß√µes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Gemini Configuration Modal -->
    <div id="geminiModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full p-6 max-h-96 overflow-y-auto">
                <h3 class="text-lg font-medium text-gray-900 mb-4">ü§ñ Configurar Gemini AI</h3>
                
                <div class="mb-6">
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                        <h4 class="font-medium text-blue-800 mb-2">üìã Como obter sua API Key do Gemini (GR√ÅTIS):</h4>
                        <ol class="text-sm text-blue-700 space-y-1 list-decimal list-inside">
                            <li>Acesse: <a href="https://aistudio.google.com/app/apikey" target="_blank" class="underline font-medium">aistudio.google.com/app/apikey</a></li>
                            <li>Fa√ßa login com sua conta Google</li>
                            <li>Clique em "Create API Key"</li>
                            <li>Copie a chave gerada</li>
                            <li>Cole aqui embaixo e clique em "Salvar"</li>
                        </ol>
                        <p class="text-xs text-blue-600 mt-2">üí° O plano gratuito permite at√© 15 requisi√ß√µes por minuto!</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Sua API Key do Gemini:</label>
                            <input type="password" id="geminiApiKey" placeholder="Cole sua API Key aqui..." class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm">
                            <p class="text-xs text-gray-500 mt-1">üîí Sua chave fica salva apenas no seu navegador</p>
                        </div>
                        
                        <div id="geminiStatus" class="hidden">
                            <!-- Status ser√° mostrado aqui -->
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3">
                    <button onclick="closeGeminiModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg">
                        Fechar
                    </button>
                    <button onclick="testGeminiConnection()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                        Testar Conex√£o
                    </button>
                    <button onclick="saveGeminiConfig()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg">
                        Salvar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Supervis√£o (Coordena√ß√£o/Dire√ß√£o) -->
    <div id="supervisaoModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-6xl w-full p-6 max-h-screen overflow-y-auto">
                <h3 class="text-lg font-medium text-gray-900 mb-4">üìã Supervis√£o de Seman√°rios</h3>
                
                <div class="mb-4">
                    <div class="flex space-x-4">
                        <select id="filterProfessor" class="border border-gray-300 rounded px-3 py-2">
                            <option value="">Todos os Professores</option>
                        </select>
                        <select id="filterPeriodo" class="border border-gray-300 rounded px-3 py-2">
                            <option value="semana">Esta Semana</option>
                            <option value="mes">Este M√™s</option>
                            <option value="todos">Todos</option>
                        </select>
                        <button onclick="loadSemanarios()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                            üîç Filtrar
                        </button>
                    </div>
                </div>
                
                <div id="semanariosContainer" class="space-y-4">
                    <!-- Seman√°rios aparecer√£o aqui -->
                </div>
                
                <div class="flex justify-end mt-6">
                    <button onclick="closeSupervisaoModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg">
                        Fechar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Devolutiva -->
    <div id="devolutivaModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">üìù Devolutiva do Seman√°rio</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Professor:</label>
                        <p id="devolutivaProfessor" class="text-gray-900"></p>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Aula:</label>
                        <p id="devolutivaAula" class="text-gray-900 text-sm"></p>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Status:</label>
                        <select id="devolutivaStatus" class="w-full border border-gray-300 rounded px-3 py-2">
                            <option value="visto">‚úÖ Seman√°rio visto - Tudo OK</option>
                            <option value="melhorias">‚ö†Ô∏è Necessita melhorias</option>
                            <option value="procurar">üîÑ Procure a coordena√ß√£o</option>
                            <option value="excelente">‚≠ê Excelente planejamento</option>
                            <option value="revisar">üìù Revisar objetivos</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Observa√ß√µes (opcional):</label>
                        <textarea id="devolutivaObs" rows="3" class="w-full border border-gray-300 rounded px-3 py-2" placeholder="Coment√°rios adicionais..."></textarea>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 mt-6">
                    <button onclick="closeDevolutivaModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg">
                        Cancelar
                    </button>
                    <button onclick="saveDevolutiva()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                        Salvar Devolutiva
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- New Plan Modal -->
    <div id="newPlanModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full p-6 max-h-screen overflow-y-auto">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Nova Aula</h3>
                
                <form id="newPlanForm">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Disciplina</label>
                            <select name="subject" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border" id="subjectSelect">
                                <option value="">Selecione uma disciplina</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Turma</label>
                            <select name="turma" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border" id="turmaSelect">
                                <option value="">Selecione uma turma</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Ano</label>
                            <select name="class" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border" id="classSelect">
                                <option value="">Selecione o ano</option>
                                <option value="1¬∫ ano">1¬∫ ano</option>
                                <option value="2¬∫ ano">2¬∫ ano</option>
                                <option value="3¬∫ ano">3¬∫ ano</option>
                                <option value="4¬∫ ano">4¬∫ ano</option>
                                <option value="5¬∫ ano">5¬∫ ano</option>
                            </select>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Data</label>
                                <input type="date" name="date" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Hor√°rio</label>
                                <input type="time" name="time" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Dura√ß√£o (horas/aula)</label>
                            <select name="duration" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border">
                                <option value="">Selecione</option>
                                <option value="1">1 hora/aula</option>
                                <option value="2">2 horas/aula</option>
                                <option value="3">3 horas/aula</option>
                                <option value="4">4 horas/aula</option>
                                <option value="5">5 horas/aula</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Habilidades BNCC</label>
                            <select name="habilidade" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border" id="habilidadeSelect">
                                <option value="">Primeiro selecione disciplina e ano</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Conte√∫do/Objetivo</label>
                            <div class="relative">
                                <textarea name="content" rows="4" placeholder="Descreva o conte√∫do e objetivos da aula..." class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 border"></textarea>
                                <button type="button" onclick="generateAISuggestion()" class="absolute top-2 right-2 bg-orange-500 hover:bg-orange-600 text-white text-xs px-2 py-1 rounded" id="aiSuggestionBtn">
                                    ü§ñ Sugerir com IA
                                </button>
                            </div>
                            <div id="aiSuggestionResult" class="hidden mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg">
                                <!-- Sugest√µes da IA aparecer√£o aqui -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" onclick="closeNewPlanModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg">
                            Cancelar
                        </button>
                        <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                            Salvar Aula
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <!-- Scripts locais -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/database.js"></script>
    
    <script>
        console.log('=== INICIANDO DASHBOARD ===');
        
        // Disciplinas da BNCC - Ensino Fundamental 1
        const disciplinasBNCC = [
            'L√≠ngua Portuguesa',
            'Matem√°tica', 
            'Ci√™ncias',
            'Hist√≥ria',
            'Geografia',
            'Arte',
            'Educa√ß√£o F√≠sica',
            'Ingl√™s'
        ];
        
        // Dias da semana
        const diasSemana = [
            'Segunda-feira',
            'Ter√ßa-feira', 
            'Quarta-feira',
            'Quinta-feira',
            'Sexta-feira'
        ];
        
        // Hor√°rios padr√£o
        const horariosDisponiveis = [
            '07:00', '07:50', '08:40', '09:30', '10:20', '11:10',
            '13:00', '13:50', '14:40', '15:30', '16:20', '17:10'
        ];
        
        // Habilidades da BNCC por disciplina (principais c√≥digos)
        const habilidadesBNCC = {
            'L√≠ngua Portuguesa': {
                '1¬∫ ano': ['EF01LP01 - Reconhecer que textos s√£o lidos e escritos da esquerda para a direita e de cima para baixo da p√°gina', 'EF01LP02 - Escrever, espontaneamente ou por ditado, palavras e frases de forma alfab√©tica', 'EF01LP03 - Observar escritas convencionais', 'EF01LP04 - Distinguir as letras do alfabeto de outros sinais gr√°ficos', 'EF01LP05 - Reconhecer o sistema de escrita alfab√©tica como representa√ß√£o dos sons da fala'],
                '2¬∫ ano': ['EF02LP01 - Utilizar, ao produzir o texto, grafia correta de palavras conhecidas', 'EF02LP02 - Segmentar palavras em s√≠labas e remover e substituir s√≠labas iniciais', 'EF02LP03 - Ler e escrever palavras com correspond√™ncias regulares diretas', 'EF02LP04 - Ler e escrever corretamente palavras com s√≠labas CV, V, CVC, CCV', 'EF02LP05 - Ler e escrever corretamente palavras com marcas de nasalidade'],
                '3¬∫ ano': ['EF03LP01 - Ler e escrever palavras com correspond√™ncias regulares contextuais', 'EF03LP02 - Ler e escrever corretamente palavras com s√≠labas CV, V, CVC, CCV, VC, VV, CVV', 'EF03LP03 - Ler e escrever corretamente palavras com os d√≠grafos lh, nh, ch', 'EF03LP04 - Usar acento gr√°fico (agudo ou circunflexo) em monoss√≠labos t√¥nicos', 'EF03LP05 - Identificar o n√∫mero de s√≠labas de palavras'],
                '4¬∫ ano': ['EF04LP01 - Grafar palavras utilizando regras de correspond√™ncia fonema-grafema regulares', 'EF04LP02 - Ler e escrever, corretamente, palavras com s√≠labas VV e CVV em casos nos quais a combina√ß√£o VV (ditongo) √© reduzida na l√≠ngua oral', 'EF04LP03 - Localizar palavras no dicion√°rio para esclarecer significados', 'EF04LP04 - Usar acento gr√°fico (agudo ou circunflexo) em parox√≠tonas terminadas em -i(s), -l, -n, -r, -√£o(s)', 'EF04LP05 - Identificar a fun√ß√£o na leitura e usar, adequadamente, na escrita ponto final, de interroga√ß√£o, de exclama√ß√£o, dois-pontos e travess√£o'],
                '5¬∫ ano': ['EF05LP01 - Grafar palavras utilizando regras de correspond√™ncia fonema-grafema regulares, contextuais e morfol√≥gicas', 'EF05LP02 - Identificar o car√°ter poliss√™mico das palavras (uma mesma palavra com diferentes significados)', 'EF05LP03 - Acentuar corretamente palavras ox√≠tonas, parox√≠tonas e proparox√≠tonas', 'EF05LP04 - Diferenciar, na leitura de textos, v√≠rgula, ponto e v√≠rgula, dois-pontos e reconhecer, na leitura de textos, o efeito de sentido que decorre do uso de retic√™ncias, aspas, par√™nteses', 'EF05LP05 - Identificar a express√£o de presente, passado e futuro em tempos verbais do modo indicativo']
            },
            'Matem√°tica': {
                '1¬∫ ano': ['EF01MA01 - Utilizar n√∫meros naturais como indicador de quantidade ou de ordem em diferentes situa√ß√µes cotidianas', 'EF01MA02 - Contar de maneira exata ou aproximada, utilizando diferentes estrat√©gias', 'EF01MA03 - Estimar e comparar quantidades de objetos de dois conjuntos', 'EF01MA04 - Contar a quantidade de objetos de cole√ß√µes at√© 100 unidades', 'EF01MA05 - Comparar n√∫meros naturais de at√© duas ordens em situa√ß√µes cotidianas'],
                '2¬∫ ano': ['EF02MA01 - Comparar e ordenar n√∫meros naturais (at√© a ordem de centenas)', 'EF02MA02 - Fazer estimativas por meio de estrat√©gias diversas a respeito da quantidade de objetos de cole√ß√µes', 'EF02MA03 - Comparar quantidades de objetos de dois conjuntos, por estimativa e/ou por correspond√™ncia', 'EF02MA04 - Compor e decompor n√∫meros naturais de at√© tr√™s ordens', 'EF02MA05 - Construir fatos b√°sicos da adi√ß√£o e utiliz√°-los em procedimentos de c√°lculo para resolver problemas'],
                '3¬∫ ano': ['EF03MA01 - Ler, escrever e comparar n√∫meros naturais de at√© a ordem de unidade de milhar', 'EF03MA02 - Identificar caracter√≠sticas do sistema de numera√ß√£o decimal', 'EF03MA03 - Construir e utilizar fatos b√°sicos da adi√ß√£o e da subtra√ß√£o para o c√°lculo mental ou escrito', 'EF03MA04 - Estabelecer a rela√ß√£o entre n√∫meros naturais e pontos da reta num√©rica para utiliz√°-la na ordena√ß√£o dos n√∫meros naturais', 'EF03MA05 - Utilizar diferentes procedimentos de c√°lculo mental e escrito para resolver problemas significativos envolvendo adi√ß√£o e subtra√ß√£o'],
                '4¬∫ ano': ['EF04MA01 - Ler, escrever e ordenar n√∫meros naturais at√© a ordem de dezenas de milhar', 'EF04MA02 - Mostrar, por decomposi√ß√£o e composi√ß√£o, que todo n√∫mero natural pode ser escrito por meio de adi√ß√µes e multiplica√ß√µes por pot√™ncias de dez', 'EF04MA03 - Resolver e elaborar problemas com n√∫meros naturais envolvendo adi√ß√£o e subtra√ß√£o', 'EF04MA04 - Utilizar as rela√ß√µes entre adi√ß√£o e subtra√ß√£o, bem como entre multiplica√ß√£o e divis√£o, para ampliar as estrat√©gias de c√°lculo', 'EF04MA05 - Utilizar as propriedades das opera√ß√µes para desenvolver estrat√©gias de c√°lculo'],
                '5¬∫ ano': ['EF05MA01 - Ler, escrever e ordenar n√∫meros naturais at√© a ordem das centenas de milhar com compreens√£o das principais caracter√≠sticas do sistema de numera√ß√£o decimal', 'EF05MA02 - Ler, escrever e ordenar n√∫meros racionais na forma decimal com compreens√£o das principais caracter√≠sticas do sistema de numera√ß√£o decimal', 'EF05MA03 - Identificar e representar fra√ß√µes (menores e maiores que a unidade), associando-as ao resultado de uma divis√£o ou √† ideia de parte de um todo', 'EF05MA04 - Identificar fra√ß√µes equivalentes', 'EF05MA05 - Comparar e ordenar n√∫meros racionais positivos (representa√ß√µes fracion√°ria e decimal)']
            },
            'Ci√™ncias': {
                '1¬∫ ano': ['EF01CI01 - Comparar caracter√≠sticas de diferentes materiais presentes em objetos de uso cotidiano', 'EF01CI02 - Localizar, nomear e representar graficamente (por meio de desenhos) partes do corpo humano', 'EF01CI03 - Discutir as raz√µes pelas quais os h√°bitos de higiene do corpo s√£o necess√°rios para a manuten√ß√£o da sa√∫de', 'EF01CI04 - Comparar caracter√≠sticas f√≠sicas entre os colegas, reconhecendo a diversidade e a import√¢ncia da valoriza√ß√£o, do acolhimento e do respeito √†s diferen√ßas', 'EF01CI05 - Identificar e nomear diferentes escalas de tempo: os per√≠odos di√°rios (manh√£, tarde, noite) e a sucess√£o de dias, semanas, meses e anos'],
                '2¬∫ ano': ['EF02CI01 - Identificar de que materiais (metais, madeira, vidro etc.) s√£o feitos os objetos que fazem parte da vida cotidiana', 'EF02CI02 - Propor o uso de diferentes materiais para a constru√ß√£o de objetos de uso cotidiano', 'EF02CI03 - Discutir os cuidados necess√°rios √† preven√ß√£o de acidentes dom√©sticos (objetos cortantes e inflam√°veis, eletricidade, produtos de limpeza, medicamentos etc.)', 'EF02CI04 - Descrever caracter√≠sticas de plantas e animais (tamanho, forma, cor, fase da vida, local onde se desenvolvem etc.)', 'EF02CI05 - Investigar a import√¢ncia da √°gua e da luz para a manuten√ß√£o da vida de plantas em geral'],
                '3¬∫ ano': ['EF03CI01 - Produzir diferentes sons a partir da vibra√ß√£o de variados objetos e identificar vari√°veis que influem nesse fen√¥meno', 'EF03CI02 - Experimentar e relatar o que ocorre com a passagem da luz atrav√©s de objetos transparentes (copos, janelas de vidro, lentes, prismas, √°gua etc.), no contato com superf√≠cies polidas (espelhos) e na intersec√ß√£o com objetos opacos (paredes, pratos, pessoas e outros objetos de uso cotidiano)', 'EF03CI03 - Discutir h√°bitos necess√°rios para a manuten√ß√£o da sa√∫de auditiva e visual considerando as condi√ß√µes do ambiente em que vive', 'EF03CI04 - Identificar caracter√≠sticas sobre o modo de vida (o que comem, como se reproduzem, como se deslocam etc.) dos animais mais comuns no ambiente pr√≥ximo', 'EF03CI05 - Descrever e comunicar as altera√ß√µes que ocorrem desde o nascimento em animais de diferentes meios terrestres ou aqu√°ticos, inclusive o homem'],
                '4¬∫ ano': ['EF04CI01 - Identificar misturas na vida di√°ria, com base em suas propriedades f√≠sicas observ√°veis', 'EF04CI02 - Testar e relatar transforma√ß√µes nos materiais do dia a dia quando expostos a diferentes condi√ß√µes (aquecimento, resfriamento, luz e umidade)', 'EF04CI03 - Concluir que algumas mudan√ßas causadas por aquecimento ou resfriamento s√£o revers√≠veis (como as mudan√ßas de estado f√≠sico da √°gua) e outras n√£o (como o cozimento do ovo, a queima do papel etc.)', 'EF04CI04 - Analisar e construir cadeias alimentares simples, reconhecendo a posi√ß√£o ocupada pelos seres vivos nessas cadeias e o papel do Sol como fonte prim√°ria de energia na produ√ß√£o de alimentos', 'EF04CI05 - Descrever e destacar semelhan√ßas e diferen√ßas entre o ciclo da mat√©ria e o fluxo de energia entre os componentes vivos e n√£o vivos de um ecossistema'],
                '5¬∫ ano': ['EF05CI01 - Explorar fen√¥menos da vida cotidiana que evidenciem propriedades f√≠sicas dos materiais ‚Äì como densidade, condutibilidade t√©rmica e el√©trica, magnetismo, dureza, elasticidade etc.', 'EF05CI02 - Aplicar os conhecimentos sobre as mudan√ßas de estado f√≠sico da √°gua para explicar o ciclo hidrol√≥gico', 'EF05CI03 - Selecionar argumentos que justifiquem a import√¢ncia da cobertura vegetal para a manuten√ß√£o do ciclo da √°gua, a conserva√ß√£o dos solos, dos cursos de √°gua e da qualidade do ar atmosf√©rico', 'EF05CI04 - Identificar os principais usos da √°gua e de outros materiais nas atividades cotidianas para discutir e propor formas sustent√°veis de utiliza√ß√£o desses recursos', 'EF05CI05 - Construir propostas coletivas para um consumo mais consciente e criar solu√ß√µes tecnol√≥gicas para o descarte adequado e a reutiliza√ß√£o ou reciclagem de materiais consumidos na escola e/ou na vida cotidiana']
            },
            'Hist√≥ria': {
                '1¬∫ ano': ['EF01HI01 - Identificar aspectos do seu crescimento por meio do registro das lembran√ßas particulares ou de lembran√ßas dos membros de sua fam√≠lia e/ou de sua comunidade', 'EF01HI02 - Identificar a rela√ß√£o entre as suas hist√≥rias e as hist√≥rias de sua fam√≠lia e de sua comunidade', 'EF01HI03 - Descrever e distinguir os seus pap√©is e responsabilidades relacionados √† fam√≠lia, √† escola e √† comunidade', 'EF01HI04 - Identificar as diferen√ßas entre os variados ambientes em que vive (dom√©stico, escolar e da comunidade), reconhecendo as especificidades dos h√°bitos e das regras que os regem', 'EF01HI05 - Identificar semelhan√ßas e diferen√ßas entre jogos e brincadeiras atuais e de outras √©pocas e lugares'],
                '2¬∫ ano': ['EF02HI01 - Reconhecer espa√ßos de sociabilidade e identificar os motivos que aproximam e separam as pessoas em diferentes grupos sociais ou de parentesco', 'EF02HI02 - Identificar e descrever pr√°ticas e pap√©is sociais que as pessoas exercem em diferentes comunidades', 'EF02HI03 - Selecionar situa√ß√µes cotidianas que remetam √† percep√ß√£o de mudan√ßa, pertencimento e mem√≥ria', 'EF02HI04 - Selecionar e compreender o significado de objetos e documentos pessoais como fontes de mem√≥rias e hist√≥rias nos √¢mbitos pessoal, familiar, escolar e comunit√°rio', 'EF02HI05 - Selecionar objetos e documentos pessoais e de grupos pr√≥ximos ao seu conv√≠vio e compreender sua fun√ß√£o, seu uso e seu significado'],
                '3¬∫ ano': ['EF03HI01 - Identificar os grupos populacionais que formam a cidade, o munic√≠pio e a regi√£o, as rela√ß√µes estabelecidas entre eles e os eventos que marcam a forma√ß√£o da cidade', 'EF03HI02 - Selecionar, por meio da consulta de fontes de diferentes naturezas, e registrar acontecimentos ocorridos ao longo do tempo na cidade ou regi√£o em que vive', 'EF03HI03 - Identificar e comparar pontos de vista em rela√ß√£o a eventos significativos do local em que vive, aspectos relacionados a condi√ß√µes sociais e √† presen√ßa de diferentes grupos sociais e culturais', 'EF03HI04 - Identificar os patrim√¥nios hist√≥ricos e culturais de sua cidade ou regi√£o e discutir as raz√µes culturais, sociais e pol√≠ticas para que assim sejam considerados', 'EF03HI05 - Identificar os marcos hist√≥ricos do lugar em que vive e compreender seus significados'],
                '4¬∫ ano': ['EF04HI01 - Reconhecer a hist√≥ria como resultado da a√ß√£o do ser humano no tempo e no espa√ßo, com base na identifica√ß√£o de mudan√ßas e perman√™ncias ao longo do tempo', 'EF04HI02 - Identificar mudan√ßas e perman√™ncias ao longo do tempo, discutindo os sentidos dos grandes marcos da hist√≥ria da humanidade', 'EF04HI03 - Identificar as transforma√ß√µes ocorridas na cidade ao longo do tempo e discutir suas interfer√™ncias nos modos de vida de seus habitantes', 'EF04HI04 - Identificar as rela√ß√µes entre os indiv√≠duos e a natureza e discutir o significado do nomadismo e da fixa√ß√£o das primeiras comunidades humanas', 'EF04HI05 - Relacionar os processos de ocupa√ß√£o do campo a interven√ß√µes na natureza, avaliando os resultados dessas interven√ß√µes'],
                '5¬∫ ano': ['EF05HI01 - Identificar os processos de forma√ß√£o das culturas e dos povos, relacionando-os com o espa√ßo geogr√°fico ocupado', 'EF05HI02 - Identificar os mecanismos de organiza√ß√£o do poder pol√≠tico com vistas √† compreens√£o da ideia de Estado e/ou de outras formas de ordena√ß√£o social', 'EF05HI03 - Analisar o papel das culturas e das religi√µes na composi√ß√£o identit√°ria dos povos antigos', 'EF05HI04 - Associar a no√ß√£o de cidadania com os princ√≠pios de respeito √† diversidade, √† pluralidade e aos direitos humanos', 'EF05HI05 - Associar o conceito de cidadania √† conquista de direitos dos povos e das sociedades, compreendendo-o como conquista hist√≥rica']
            },
            'Geografia': {
                '1¬∫ ano': ['EF01GE01 - Descrever caracter√≠sticas observadas de seus lugares de viv√™ncia (moradia, escola etc.) e identificar semelhan√ßas e diferen√ßas entre esses lugares', 'EF01GE02 - Identificar semelhan√ßas e diferen√ßas entre jogos e brincadeiras de diferentes √©pocas e lugares', 'EF01GE03 - Identificar e relatar semelhan√ßas e diferen√ßas de usos do espa√ßo p√∫blico (pra√ßas, parques) para o lazer e diferentes manifesta√ß√µes', 'EF01GE04 - Discutir e elaborar, coletivamente, regras de conv√≠vio em diferentes espa√ßos (sala de aula, escola etc.)', 'EF01GE05 - Observar e descrever ritmos naturais (dia e noite, varia√ß√£o de temperatura e umidade etc.) em diferentes escalas espaciais e temporais'],
                '2¬∫ ano': ['EF02GE01 - Descrever a hist√≥ria das migra√ß√µes no bairro ou comunidade em que vive', 'EF02GE02 - Comparar costumes e tradi√ß√µes de diferentes popula√ß√µes inseridas no bairro ou comunidade em que vive', 'EF02GE03 - Comparar diferentes meios de transporte e de comunica√ß√£o, indicando o seu papel na conex√£o entre lugares', 'EF02GE04 - Reconhecer semelhan√ßas e diferen√ßas nos h√°bitos, nas rela√ß√µes com a natureza e no modo de viver de pessoas em diferentes lugares', 'EF02GE05 - Analisar mudan√ßas de paisagens urbanas ao longo do tempo, comparando imagens de um mesmo lugar em diferentes momentos'],
                '3¬∫ ano': ['EF03GE01 - Identificar e comparar aspectos culturais dos grupos sociais de seus lugares de viv√™ncia', 'EF03GE02 - Identificar, em seus lugares de viv√™ncia, marcas de contribui√ß√£o cultural e econ√¥mica de grupos de diferentes origens', 'EF03GE03 - Reconhecer os diferentes modos de vida de povos e comunidades tradicionais em distintos lugares', 'EF03GE04 - Explicar como os processos naturais e hist√≥ricos atuam na forma√ß√£o e na mudan√ßa das paisagens naturais e antr√≥picas nos seus lugares de viv√™ncia', 'EF03GE05 - Identificar alimentos, minerais e outros produtos cultivados e extra√≠dos da natureza, comparando as atividades de trabalho em diferentes lugares'],
                '4¬∫ ano': ['EF04GE01 - Selecionar, em seus lugares de viv√™ncia e em suas hist√≥rias familiares, elementos de distintas culturas (ind√≠genas, afro-brasileiras, de outras regi√µes do pa√≠s, latino-americanas, europeias, asi√°ticas etc.)', 'EF04GE02 - Descrever processos migrat√≥rios e suas contribui√ß√µes para a forma√ß√£o da sociedade brasileira', 'EF04GE03 - Distinguir fun√ß√µes e pap√©is dos √≥rg√£os do poder p√∫blico e canais de participa√ß√£o social na gest√£o do Munic√≠pio', 'EF04GE04 - Reconhecer especificidades e analisar a interdepend√™ncia do campo e da cidade, considerando fluxos econ√¥micos, de informa√ß√µes, de ideias e de pessoas', 'EF04GE05 - Distinguir unidades pol√≠tico-administrativas oficiais nacionais (Distrito, Munic√≠pio, Unidade da Federa√ß√£o e grande regi√£o), suas fronteiras e sua hierarquia'],
                '5¬∫ ano': ['EF05GE01 - Descrever e analisar din√¢micas populacionais na Unidade da Federa√ß√£o em que vive, estabelecendo rela√ß√µes entre migra√ß√µes e condi√ß√µes de infraestrutura', 'EF05GE02 - Identificar diferen√ßas √©tnico-raciais e √©tnico-culturais e desigualdades sociais entre grupos em diferentes territ√≥rios', 'EF05GE03 - Identificar as formas e fun√ß√µes das cidades e analisar as mudan√ßas sociais, econ√¥micas e ambientais provocadas pelo seu crescimento', 'EF05GE04 - Reconhecer as caracter√≠sticas da cidade e analisar as intera√ß√µes entre a cidade e o campo e entre cidades na rede urbana', 'EF05GE05 - Identificar e comparar as mudan√ßas dos tipos de trabalho e desenvolvimento tecnol√≥gico na agropecu√°ria, na ind√∫stria, no com√©rcio e nos servi√ßos']
            },
            'Arte': {
                '1¬∫ ano': ['EF01AR01 - Identificar e apreciar formas distintas das artes visuais tradicionais e contempor√¢neas', 'EF01AR02 - Explorar e reconhecer elementos constitutivos das artes visuais (ponto, linha, forma, cor, espa√ßo, movimento etc.)', 'EF01AR03 - Reconhecer e analisar a influ√™ncia de distintas matrizes est√©ticas e culturais das artes visuais nas manifesta√ß√µes art√≠sticas das culturas locais, regionais e nacionais', 'EF01AR04 - Experimentar diferentes formas de express√£o art√≠stica (desenho, pintura, colagem, quadrinhos, dobradura, escultura, modelagem, instala√ß√£o, v√≠deo, fotografia etc.)', 'EF01AR05 - Experimentar a cria√ß√£o em artes visuais de modo individual, coletivo e colaborativo'],
                '2¬∫ ano': ['EF02AR01 - Reconhecer e apreciar formas distintas das artes visuais tradicionais e contempor√¢neas', 'EF02AR02 - Explorar e reconhecer elementos constitutivos das artes visuais (ponto, linha, forma, cor, espa√ßo, movimento etc.)', 'EF02AR03 - Reconhecer e analisar a influ√™ncia de distintas matrizes est√©ticas e culturais das artes visuais nas manifesta√ß√µes art√≠sticas das culturas locais, regionais e nacionais', 'EF02AR04 - Experimentar diferentes formas de express√£o art√≠stica (desenho, pintura, colagem, quadrinhos, dobradura, escultura, modelagem, instala√ß√£o, v√≠deo, fotografia etc.)', 'EF02AR05 - Experimentar a cria√ß√£o em artes visuais de modo individual, coletivo e colaborativo'],
                '3¬∫ ano': ['EF03AR01 - Identificar e apreciar formas distintas das artes visuais tradicionais e contempor√¢neas', 'EF03AR02 - Identificar e analisar elementos constitutivos das artes visuais (ponto, linha, forma, cor, espa√ßo, movimento etc.)', 'EF03AR03 - Reconhecer e analisar a influ√™ncia de distintas matrizes est√©ticas e culturais das artes visuais nas manifesta√ß√µes art√≠sticas das culturas locais, regionais e nacionais', 'EF03AR04 - Experimentar diferentes formas de express√£o art√≠stica (desenho, pintura, colagem, quadrinhos, dobradura, escultura, modelagem, instala√ß√£o, v√≠deo, fotografia etc.)', 'EF03AR05 - Experimentar a cria√ß√£o em artes visuais de modo individual, coletivo e colaborativo'],
                '4¬∫ ano': ['EF04AR01 - Identificar e apreciar formas distintas das artes visuais tradicionais e contempor√¢neas', 'EF04AR02 - Identificar e analisar elementos constitutivos das artes visuais (ponto, linha, forma, cor, espa√ßo, movimento etc.)', 'EF04AR03 - Reconhecer e analisar a influ√™ncia de distintas matrizes est√©ticas e culturais das artes visuais nas manifesta√ß√µes art√≠sticas das culturas locais, regionais e nacionais', 'EF04AR04 - Experimentar diferentes formas de express√£o art√≠stica (desenho, pintura, colagem, quadrinhos, dobradura, escultura, modelagem, instala√ß√£o, v√≠deo, fotografia etc.)', 'EF04AR05 - Experimentar a cria√ß√£o em artes visuais de modo individual, coletivo e colaborativo'],
                '5¬∫ ano': ['EF05AR01 - Identificar e apreciar formas distintas das artes visuais tradicionais e contempor√¢neas', 'EF05AR02 - Identificar e analisar elementos constitutivos das artes visuais (ponto, linha, forma, cor, espa√ßo, movimento etc.)', 'EF05AR03 - Reconhecer e analisar a influ√™ncia de distintas matrizes est√©ticas e culturais das artes visuais nas manifesta√ß√µes art√≠sticas das culturas locais, regionais e nacionais', 'EF05AR04 - Experimentar diferentes formas de express√£o art√≠stica (desenho, pintura, colagem, quadrinhos, dobradura, escultura, modelagem, instala√ß√£o, v√≠deo, fotografia etc.)', 'EF05AR05 - Experimentar a cria√ß√£o em artes visuais de modo individual, coletivo e colaborativo']
            },
            'Educa√ß√£o F√≠sica': {
                '1¬∫ ano': ['EF01EF01 - Experimentar, fruir e recriar diferentes brincadeiras e jogos da cultura popular presentes no contexto comunit√°rio e regional', 'EF01EF02 - Explicar, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do contexto comunit√°rio e regional', 'EF01EF03 - Descrever, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do Brasil e de matriz ind√≠gena e africana', 'EF01EF04 - Colaborar na proposi√ß√£o e na produ√ß√£o de alternativas para a pr√°tica, em outros momentos e espa√ßos, de brincadeiras e jogos e demais pr√°ticas corporais tematizadas na escola', 'EF01EF05 - Experimentar e fruir prezando pelo trabalho coletivo e pelo protagonismo, a pr√°tica de esportes de marca e de precis√£o'],
                '2¬∫ ano': ['EF02EF01 - Experimentar, fruir e recriar diferentes brincadeiras e jogos da cultura popular presentes no contexto comunit√°rio e regional', 'EF02EF02 - Explicar, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do contexto comunit√°rio e regional', 'EF02EF03 - Descrever, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do Brasil e de matriz ind√≠gena e africana', 'EF02EF04 - Colaborar na proposi√ß√£o e na produ√ß√£o de alternativas para a pr√°tica, em outros momentos e espa√ßos, de brincadeiras e jogos e demais pr√°ticas corporais tematizadas na escola', 'EF02EF05 - Experimentar e fruir prezando pelo trabalho coletivo e pelo protagonismo, a pr√°tica de esportes de marca e de precis√£o'],
                '3¬∫ ano': ['EF03EF01 - Experimentar, fruir e recriar diferentes brincadeiras e jogos da cultura popular presentes no contexto comunit√°rio e regional', 'EF03EF02 - Explicar, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do contexto comunit√°rio e regional', 'EF03EF03 - Descrever, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do Brasil e de matriz ind√≠gena e africana', 'EF03EF04 - Colaborar na proposi√ß√£o e na produ√ß√£o de alternativas para a pr√°tica, em outros momentos e espa√ßos, de brincadeiras e jogos e demais pr√°ticas corporais tematizadas na escola', 'EF03EF05 - Experimentar e fruir prezando pelo trabalho coletivo e pelo protagonismo, a pr√°tica de esportes de marca e de precis√£o'],
                '4¬∫ ano': ['EF04EF01 - Experimentar, fruir e recriar diferentes brincadeiras e jogos da cultura popular presentes no contexto comunit√°rio e regional', 'EF04EF02 - Explicar, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do contexto comunit√°rio e regional', 'EF04EF03 - Descrever, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do Brasil e de matriz ind√≠gena e africana', 'EF04EF04 - Colaborar na proposi√ß√£o e na produ√ß√£o de alternativas para a pr√°tica, em outros momentos e espa√ßos, de brincadeiras e jogos e demais pr√°ticas corporais tematizadas na escola', 'EF04EF05 - Experimentar e fruir prezando pelo trabalho coletivo e pelo protagonismo, a pr√°tica de esportes de marca e de precis√£o'],
                '5¬∫ ano': ['EF05EF01 - Experimentar, fruir e recriar diferentes brincadeiras e jogos da cultura popular presentes no contexto comunit√°rio e regional', 'EF05EF02 - Explicar, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do contexto comunit√°rio e regional', 'EF05EF03 - Descrever, por meio de m√∫ltiplas linguagens (corporal, visual, oral e escrita), as brincadeiras e os jogos populares do Brasil e de matriz ind√≠gena e africana', 'EF05EF04 - Colaborar na proposi√ß√£o e na produ√ß√£o de alternativas para a pr√°tica, em outros momentos e espa√ßos, de brincadeiras e jogos e demais pr√°ticas corporais tematizadas na escola', 'EF05EF05 - Experimentar e fruir prezando pelo trabalho coletivo e pelo protagonismo, a pr√°tica de esportes de marca e de precis√£o']
            },
            'Ingl√™s': {
                '1¬∫ ano': ['EF01LI01 - Interagir por meio de cumprimentos, utilizando a l√≠ngua inglesa para se comunicar', 'EF01LI02 - Conhecer a si e ao outro por meio de repert√≥rio relativo a dados pessoais', 'EF01LI03 - Interagir com o professor e os colegas, utilizando cumprimentos, dados pessoais e informa√ß√µes do contexto escolar', 'EF01LI04 - Reconhecer o ingl√™s como l√≠ngua franca, identificando o seu uso no cotidiano', 'EF01LI05 - Conhecer diferentes pa√≠ses que t√™m o ingl√™s como l√≠ngua materna e/ou oficial'],
                '2¬∫ ano': ['EF02LI01 - Interagir por meio de cumprimentos, utilizando a l√≠ngua inglesa para se comunicar', 'EF02LI02 - Conhecer a si e ao outro por meio de repert√≥rio relativo a dados pessoais', 'EF02LI03 - Interagir com o professor e os colegas, utilizando cumprimentos, dados pessoais e informa√ß√µes do contexto escolar', 'EF02LI04 - Reconhecer o ingl√™s como l√≠ngua franca, identificando o seu uso no cotidiano', 'EF02LI05 - Conhecer diferentes pa√≠ses que t√™m o ingl√™s como l√≠ngua materna e/ou oficial'],
                '3¬∫ ano': ['EF03LI01 - Cumprimentar, apresentar-se e despedir-se, utilizando a l√≠ngua inglesa para se comunicar', 'EF03LI02 - Coletar informa√ß√µes do grupo, perguntando e respondendo sobre a fam√≠lia, os amigos, a escola e a comunidade', 'EF03LI03 - Interagir com o professor e os colegas, utilizando cumprimentos, dados pessoais e informa√ß√µes do contexto escolar', 'EF03LI04 - Reconhecer o ingl√™s como l√≠ngua franca, identificando o seu uso no cotidiano', 'EF03LI05 - Conhecer diferentes pa√≠ses que t√™m o ingl√™s como l√≠ngua materna e/ou oficial'],
                '4¬∫ ano': ['EF04LI01 - Cumprimentar, apresentar-se e despedir-se, utilizando a l√≠ngua inglesa para se comunicar', 'EF04LI02 - Coletar informa√ß√µes do grupo, perguntando e respondendo sobre a fam√≠lia, os amigos, a escola e a comunidade', 'EF04LI03 - Interagir com o professor e os colegas, utilizando cumprimentos, dados pessoais e informa√ß√µes do contexto escolar', 'EF04LI04 - Reconhecer o ingl√™s como l√≠ngua franca, identificando o seu uso no cotidiano', 'EF04LI05 - Conhecer diferentes pa√≠ses que t√™m o ingl√™s como l√≠ngua materna e/ou oficial'],
                '5¬∫ ano': ['EF05LI01 - Participar de conversas, utilizando estrat√©gias para se fazer entender', 'EF05LI02 - Coletar informa√ß√µes do grupo, perguntando e respondendo sobre a fam√≠lia, os amigos, a escola e a comunidade', 'EF05LI03 - Interagir com o professor e os colegas, utilizando cumprimentos, dados pessoais e informa√ß√µes do contexto escolar', 'EF05LI04 - Reconhecer o ingl√™s como l√≠ngua franca, identificando o seu uso no cotidiano', 'EF05LI05 - Conhecer diferentes pa√≠ses que t√™m o ingl√™s como l√≠ngua materna e/ou oficial']
            }
        };
        
        // Inicializar dashboard
        function initializeDashboard() {
            console.log('Inicializando dashboard...');
            
            // Simular usu√°rio logado para demonstra√ß√£o
            const mockUser = {
                email: 'professor@escola.com',
                uid: 'user_professor_escola_com',
                displayName: 'Professor Demo'
            };
            
            // Simular Firebase Auth
            window.firebase = {
                auth: () => ({
                    currentUser: mockUser,
                    onAuthStateChanged: (callback) => {
                        setTimeout(() => callback(mockUser), 100);
                    }
                })
            };
            
            // Verificar autentica√ß√£o simulada
            setTimeout(() => {
                const user = mockUser;
                console.log('Usu√°rio logado:', user.email);
                
                // Usar o nome real ou email como fallback
                const userName = user.displayName || user.email.split('@')[0];
                document.getElementById('userName').textContent = userName;
                document.getElementById('loadingScreen').style.display = 'none';
                
                // Configurar interface baseada no tipo de usu√°rio
                setupUserInterface();
                
                // Carregar dados do usu√°rio
                loadUserData();
            }, 500);
        }
        
        // Configurar interface baseada no tipo de usu√°rio
        function setupUserInterface() {
            const userType = localStorage.getItem('userType') || 'professor';
            const buttonsContainer = document.getElementById('mainButtons');
            
            if (userType === 'professor') {
                buttonsContainer.innerHTML = `
                    <button onclick="openTurmasModal()" class="bg-indigo-500 hover:bg-indigo-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üë•</div>
                        <div class="font-medium">Minhas Turmas</div>
                    </button>
                    
                    <button onclick="openDisciplinasModal()" class="bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üìñ</div>
                        <div class="font-medium">Disciplinas</div>
                    </button>
                    
                    <button onclick="openNewPlanModal()" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üìã</div>
                        <div class="font-medium">Nova Aula</div>
                    </button>
                    
                    <button onclick="loadPlans()" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üìö</div>
                        <div class="font-medium">Minhas Aulas</div>
                    </button>
                    
                    <button onclick="showHorarios()" class="bg-teal-500 hover:bg-teal-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üïê</div>
                        <div class="font-medium">Meus Hor√°rios</div>
                    </button>
                `;
            } else if (userType === 'coordenacao' || userType === 'direcao') {
                buttonsContainer.innerHTML = `
                    <button onclick="openSupervisaoModal()" class="bg-red-500 hover:bg-red-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üìã</div>
                        <div class="font-medium">Supervis√£o</div>
                    </button>
                    
                    <button onclick="loadRelatorios()" class="bg-yellow-500 hover:bg-yellow-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üìä</div>
                        <div class="font-medium">Relat√≥rios</div>
                    </button>
                    
                    <button onclick="loadProfessores()" class="bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">üë®‚Äçüè´</div>
                        <div class="font-medium">Professores</div>
                    </button>
                    
                    <button onclick="openGeminiModal()" class="bg-orange-500 hover:bg-orange-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">ü§ñ</div>
                        <div class="font-medium">Configurar IA</div>
                    </button>
                `;
            }
            
            // Adicionar bot√£o de IA para professores tamb√©m
            if (userType === 'professor') {
                buttonsContainer.innerHTML += `
                    <button onclick="openGeminiModal()" class="bg-orange-500 hover:bg-orange-600 text-white p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">ü§ñ</div>
                        <div class="font-medium">Configurar IA</div>
                    </button>
                `;
            }
        }
        
        // Carregar dados do usu√°rio
        function loadUserData() {
            const userType = localStorage.getItem('userType') || 'professor';
            
            if (userType === 'professor') {
                loadUserSubjects();
                loadUserTurmas();
            }
        }
        
        // Carregar disciplinas do usu√°rio
        async function loadUserSubjects() {
            try {
                const user = firebase.auth().currentUser;
                if (!user) return;
                
                const userSubjects = await getUserSubjects(user.uid);
                updateSubjectSelect(userSubjects);
                
            } catch (error) {
                console.error('Erro ao carregar disciplinas:', error);
            }
        }
        
        // Carregar turmas do usu√°rio
        async function loadUserTurmas() {
            try {
                const user = firebase.auth().currentUser;
                if (!user) return;
                
                const userTurmas = await getUserTurmas(user.uid);
                updateTurmaSelect(userTurmas);
                
            } catch (error) {
                console.error('Erro ao carregar turmas:', error);
            }
        }
        
        // Atualizar select de turmas
        function updateTurmaSelect(userTurmas) {
            const select = document.getElementById('turmaSelect');
            if (!select) return;
            
            select.innerHTML = '<option value="">Selecione uma turma</option>';
            
            userTurmas.forEach(turma => {
                const option = document.createElement('option');
                option.value = turma.nome;
                option.textContent = `${turma.nome} - ${turma.ano}`;
                select.appendChild(option);
            });
        }
        
        // Atualizar select de disciplinas
        function updateSubjectSelect(userSubjects) {
            const select = document.getElementById('subjectSelect');
            select.innerHTML = '<option value="">Selecione uma disciplina</option>';
            
            userSubjects.forEach(subject => {
                const option = document.createElement('option');
                option.value = subject.name;
                option.textContent = subject.name;
                select.appendChild(option);
            });
        }
        
        // Modal de turmas
        function openTurmasModal() {
            console.log('Abrindo modal de turmas');
            loadTurmasModal();
            document.getElementById('turmasModal').classList.remove('hidden');
        }

        function closeTurmasModal() {
            console.log('Fechando modal de turmas');
            document.getElementById('turmasModal').classList.add('hidden');
        }
        
        // Carregar turmas no modal
        async function loadTurmasModal() {
            try {
                const user = firebase.auth().currentUser;
                if (!user) return;
                
                const userTurmas = await getUserTurmas(user.uid);
                const container = document.getElementById('turmasContainer');
                container.innerHTML = '';
                
                if (userTurmas.length === 0) {
                    container.innerHTML = '<p class="text-gray-500 text-center">Nenhuma turma configurada. Clique em "Nova Turma" para come√ßar.</p>';
                } else {
                    userTurmas.forEach((turma, index) => {
                        const div = document.createElement('div');
                        div.innerHTML = `
                            <div class="border rounded-lg p-4 bg-gray-50">
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                    <div>
                                        <label class="block text-xs font-medium text-gray-700 mb-1">Nome da Turma:</label>
                                        <input type="text" value="${turma.nome}" 
                                               onchange="updateTurmaField(${index}, 'nome', this.value)"
                                               class="w-full text-sm border border-gray-300 rounded px-2 py-1">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-xs font-medium text-gray-700 mb-1">Ano:</label>
                                        <select onchange="updateTurmaField(${index}, 'ano', this.value)"
                                                class="w-full text-sm border border-gray-300 rounded px-2 py-1">
                                            <option value="1¬∫ ano" ${turma.ano === '1¬∫ ano' ? 'selected' : ''}>1¬∫ ano</option>
                                            <option value="2¬∫ ano" ${turma.ano === '2¬∫ ano' ? 'selected' : ''}>2¬∫ ano</option>
                                            <option value="3¬∫ ano" ${turma.ano === '3¬∫ ano' ? 'selected' : ''}>3¬∫ ano</option>
                                            <option value="4¬∫ ano" ${turma.ano === '4¬∫ ano' ? 'selected' : ''}>4¬∫ ano</option>
                                            <option value="5¬∫ ano" ${turma.ano === '5¬∫ ano' ? 'selected' : ''}>5¬∫ ano</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-xs font-medium text-gray-700 mb-1">Qtd. Alunos:</label>
                                        <input type="number" value="${turma.alunos || ''}" min="1" max="40"
                                               onchange="updateTurmaField(${index}, 'alunos', this.value)"
                                               class="w-full text-sm border border-gray-300 rounded px-2 py-1">
                                    </div>
                                    
                                    <div class="flex items-end">
                                        <button onclick="removeTurma(${index})" 
                                                class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm">
                                            üóëÔ∏è Remover
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                        container.appendChild(div);
                    });
                }
                
            } catch (error) {
                console.error('Erro ao carregar turmas:', error);
            }
        }
        
        // Adicionar nova turma
        function addNewTurma() {
            const container = document.getElementById('turmasContainer');
            const index = container.children.length;
            
            const div = document.createElement('div');
            div.innerHTML = `
                <div class="border rounded-lg p-4 bg-blue-50 border-blue-300">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Nome da Turma:</label>
                            <input type="text" placeholder="Ex: Turma A, 1¬∫ A, etc."
                                   onchange="updateTurmaField(${index}, 'nome', this.value)"
                                   class="w-full text-sm border border-gray-300 rounded px-2 py-1">
                        </div>
                        
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Ano:</label>
                            <select onchange="updateTurmaField(${index}, 'ano', this.value)"
                                    class="w-full text-sm border border-gray-300 rounded px-2 py-1">
                                <option value="">Selecione</option>
                                <option value="1¬∫ ano">1¬∫ ano</option>
                                <option value="2¬∫ ano">2¬∫ ano</option>
                                <option value="3¬∫ ano">3¬∫ ano</option>
                                <option value="4¬∫ ano">4¬∫ ano</option>
                                <option value="5¬∫ ano">5¬∫ ano</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Qtd. Alunos:</label>
                            <input type="number" placeholder="25" min="1" max="40"
                                   onchange="updateTurmaField(${index}, 'alunos', this.value)"
                                   class="w-full text-sm border border-gray-300 rounded px-2 py-1">
                        </div>
                        
                        <div class="flex items-end">
                            <button onclick="removeTurma(${index})" 
                                    class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm">
                                üóëÔ∏è Remover
                            </button>
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(div);
        }
        
        // Atualizar campo da turma
        function updateTurmaField(index, field, value) {
            // Fun√ß√£o para atualizar dados em tempo real
            console.log(`Turma ${index}: ${field} = ${value}`);
        }
        
        // Remover turma
        function removeTurma(index) {
            const container = document.getElementById('turmasContainer');
            if (container.children[index]) {
                container.removeChild(container.children[index]);
            }
        }
        
        // Salvar configura√ß√µes das turmas
        async function saveTurmasConfig() {
            try {
                const user = firebase.auth().currentUser;
                if (!user) return;
                
                const container = document.getElementById('turmasContainer');
                const turmas = [];
                
                for (let i = 0; i < container.children.length; i++) {
                    const turmaDiv = container.children[i];
                    const inputs = turmaDiv.querySelectorAll('input, select');
                    
                    const turma = {
                        nome: inputs[0].value,
                        ano: inputs[1].value,
                        alunos: parseInt(inputs[2].value) || 0
                    };
                    
                    if (turma.nome && turma.ano) {
                        turmas.push(turma);
                    }
                }
                
                await saveUserTurmas(user.uid, turmas);
                updateTurmaSelect(turmas);
                
                alert('Turmas salvas com sucesso!');
                closeTurmasModal();
                
            } catch (error) {
                console.error('Erro ao salvar turmas:', error);
                alert('Erro ao salvar turmas: ' + error.message);
            }
        }

        // Modal de disciplinas
        function openDisciplinasModal() {
            console.log('Abrindo modal de disciplinas');
            loadDisciplinasModal();
            document.getElementById('disciplinasModal').classList.remove('hidden');
        }

        function closeDisciplinasModal() {
            console.log('Fechando modal de disciplinas');
            document.getElementById('disciplinasModal').classList.add('hidden');
        }
        
        // Carregar disciplinas no modal
        async function loadDisciplinasModal() {
            try {
                const user = firebase.auth().currentUser;
                if (!user) return;
                
                // Buscar disciplinas configuradas do usu√°rio
                const userSubjects = await getUserSubjects(user.uid);
                const userSubjectNames = userSubjects.map(s => s.name);
                
                // Preencher container de disciplinas
                const container = document.getElementById('disciplinasContainer');
                container.innerHTML = '';
                
                disciplinasBNCC.forEach(disciplina => {
                    const isSelected = userSubjectNames.includes(disciplina);
                    const userSubject = userSubjects.find(s => s.name === disciplina);
                    
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <div class="border rounded-lg p-4 ${isSelected ? 'bg-blue-50 border-blue-300' : 'border-gray-300'}">
                            <label class="flex items-center space-x-2 mb-3">
                                <input type="checkbox" ${isSelected ? 'checked' : ''} 
                                       onchange="toggleDisciplina('${disciplina}')" 
                                       class="rounded" id="check_${disciplina.replace(/\s+/g, '_')}">
                                <span class="font-medium">${disciplina}</span>
                            </label>
                            
                            <div class="space-y-2 ${isSelected ? '' : 'hidden'}" id="config_${disciplina.replace(/\s+/g, '_')}">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1">Dias da semana:</label>
                                    <div class="grid grid-cols-2 gap-1">
                                        ${diasSemana.map(dia => `
                                            <label class="flex items-center space-x-1 text-xs">
                                                <input type="checkbox" 
                                                       ${userSubject && userSubject.dias && userSubject.dias.includes(dia) ? 'checked' : ''}
                                                       onchange="updateDisciplinaConfig('${disciplina}', 'dias', '${dia}', this.checked)"
                                                       class="rounded text-xs">
                                                <span>${dia.substring(0, 3)}</span>
                                            </label>
                                        `).join('')}
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1">Hor√°rio principal:</label>
                                    <select onchange="updateDisciplinaConfig('${disciplina}', 'horario', this.value)" 
                                            class="w-full text-xs border border-gray-300 rounded px-2 py-1">
                                        <option value="">Selecione</option>
                                        ${horariosDisponiveis.map(horario => `
                                            <option value="${horario}" 
                                                    ${userSubject && userSubject.horario === horario ? 'selected' : ''}>
                                                ${horario}
                                            </option>
                                        `).join('')}
                                    </select>
                                </div>
                            </div>
                        </div>
                    `;
                    container.appendChild(div);
                });
                
            } catch (error) {
                console.error('Erro ao carregar disciplinas do modal:', error);
            }
        }
        
        // Toggle disciplina
        function toggleDisciplina(disciplina) {
            const checkbox = document.getElementById(`check_${disciplina.replace(/\s+/g, '_')}`);
            const configDiv = document.getElementById(`config_${disciplina.replace(/\s+/g, '_')}`);
            
            if (checkbox.checked) {
                configDiv.classList.remove('hidden');
                configDiv.parentElement.classList.add('bg-blue-50', 'border-blue-300');
                configDiv.parentElement.classList.remove('border-gray-300');
            } else {
                configDiv.classList.add('hidden');
                configDiv.parentElement.classList.remove('bg-blue-50', 'border-blue-300');
                configDiv.parentElement.classList.add('border-gray-300');
            }
        }
        
        // Atualizar configura√ß√£o da disciplina
        function updateDisciplinaConfig(disciplina, tipo, valor, checked = true) {
            // Esta fun√ß√£o ser√° usada para atualizar as configura√ß√µes em tempo real
            // Os dados ser√£o salvos quando o usu√°rio clicar em "Salvar Configura√ß√µes"
        }
        
        // Salvar configura√ß√µes das disciplinas
        async function saveDisciplinasConfig() {
            try {
                const user = firebase.auth().currentUser;
                if (!user) return;
                
                const disciplinasConfig = [];
                
                disciplinasBNCC.forEach(disciplina => {
                    const checkbox = document.getElementById(`check_${disciplina.replace(/\s+/g, '_')}`);
                    
                    if (checkbox.checked) {
                        const configDiv = document.getElementById(`config_${disciplina.replace(/\s+/g, '_')}`);
                        
                        // Coletar dias selecionados
                        const diasCheckboxes = configDiv.querySelectorAll('input[type="checkbox"]');
                        const diasSelecionados = [];
                        diasCheckboxes.forEach(cb => {
                            if (cb.checked) {
                                // Extrair o dia do onchange
                                const onchangeAttr = cb.getAttribute('onchange');
                                const diaMatch = onchangeAttr.match(/'([^']+)'/g);
                                if (diaMatch && diaMatch[2]) {
                                    diasSelecionados.push(diaMatch[2].replace(/'/g, ''));
                                }
                            }
                        });
                        
                        // Coletar hor√°rio
                        const horarioSelect = configDiv.querySelector('select');
                        const horario = horarioSelect.value;
                        
                        disciplinasConfig.push({
                            name: disciplina,
                            dias: diasSelecionados,
                            horario: horario
                        });
                    }
                });
                
                // Salvar no Firebase
                await saveUserSubjects(user.uid, disciplinasConfig);
                
                // Atualizar select do formul√°rio
                updateSubjectSelect(disciplinasConfig);
                
                alert('Configura√ß√µes salvas com sucesso!');
                closeDisciplinasModal();
                
            } catch (error) {
                console.error('Erro ao salvar configura√ß√µes:', error);
                alert('Erro ao salvar configura√ß√µes: ' + error.message);
            }
        }
        
        // Modal de nova aula
        function openNewPlanModal() {
            console.log('Abrindo modal de nova aula');
            document.getElementById('newPlanModal').classList.remove('hidden');
        }

        function closeNewPlanModal() {
            console.log('Fechando modal de nova aula');
            document.getElementById('newPlanModal').classList.add('hidden');
            document.getElementById('newPlanForm').reset();
            document.getElementById('habilidadeSelect').innerHTML = '<option value="">Primeiro selecione disciplina e ano</option>';
            document.getElementById('aiSuggestionResult').classList.add('hidden');
        }
        
        // Atualizar habilidades quando disciplina ou ano mudar
        function updateHabilidades() {
            const subject = document.getElementById('subjectSelect').value;
            const classYear = document.getElementById('classSelect').value;
            const habilidadeSelect = document.getElementById('habilidadeSelect');
            
            habilidadeSelect.innerHTML = '<option value="">Selecione uma habilidade</option>';
            
            if (subject && classYear && habilidadesBNCC[subject] && habilidadesBNCC[subject][classYear]) {
                habilidadesBNCC[subject][classYear].forEach(habilidade => {
                    const option = document.createElement('option');
                    option.value = habilidade;
                    option.textContent = habilidade;
                    habilidadeSelect.appendChild(option);
                });
            }
        }
        
        // Event listeners para atualizar habilidades
        document.addEventListener('DOMContentLoaded', function() {
            const subjectSelect = document.getElementById('subjectSelect');
            const classSelect = document.getElementById('classSelect');
            
            if (subjectSelect && classSelect) {
                subjectSelect.addEventListener('change', updateHabilidades);
                classSelect.addEventListener('change', updateHabilidades);
            }
        });

        // Carregar aulas
        async function loadPlans() {
            console.log('Carregando aulas...');
            
            try {
                const user = firebase.auth().currentUser;
                if (!user) throw new Error('Usu√°rio n√£o autenticado');
                
                const plans = await getLessonPlans(user.uid);
                console.log('Aulas encontradas:', plans.length);
                
                const contentArea = document.getElementById('contentArea');
                
                if (plans.length === 0) {
                    contentArea.innerHTML = `
                        <div class="bg-white rounded-lg shadow p-6 text-center">
                            <h3 class="text-lg font-medium text-gray-900 mb-2">Nenhuma aula encontrada</h3>
                            <p class="text-gray-600">Comece criando sua primeira aula!</p>
                        </div>
                    `;
                } else {
                    contentArea.innerHTML = `
                        <div class="bg-white rounded-lg shadow">
                            <div class="px-4 py-5 sm:p-6">
                                <h3 class="text-lg font-medium text-gray-900 mb-4">Minhas Aulas (${plans.length})</h3>
                                <div class="space-y-4">
                                    ${plans.map(plan => `
                                        <div class="border rounded-lg p-4">
                                            <div class="flex justify-between items-start mb-2">
                                                <h4 class="font-medium text-gray-900">${plan.subject} - ${plan.class}</h4>
                                                <div class="flex space-x-1">
                                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">${plan.duration} aula(s)</span>
                                                    ${plan.time ? `<span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">${plan.time}</span>` : ''}
                                                </div>
                                            </div>
                                            <p class="text-sm text-gray-600">üìÖ ${new Date(plan.date).toLocaleDateString('pt-BR')}</p>
                                            ${plan.habilidade ? `<p class="text-xs text-purple-600 mt-1">üéØ ${plan.habilidade}</p>` : ''}
                                            ${plan.content ? `<p class="text-sm text-gray-700 mt-2">${plan.content}</p>` : ''}
                                            <div class="mt-3 flex space-x-2">
                                                <button onclick="replicateLesson('${plan.id}')" class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded hover:bg-green-200">
                                                    üìã Replicar
                                                </button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                }
                
            } catch (error) {
                console.error('Erro ao carregar aulas:', error);
                document.getElementById('contentArea').innerHTML = `
                    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                        <h3 class="text-red-800 font-medium">Erro ao carregar aulas</h3>
                        <p class="text-red-600 text-sm mt-1">${error.message}</p>
                    </div>
                `;
            }
        }
        
        // Replicar aula
        async function replicateLesson(lessonId) {
            try {
                const user = firebase.auth().currentUser;
                if (!user) throw new Error('Usu√°rio n√£o autenticado');
                
                // Buscar a aula original
                const originalLesson = await getLessonPlan(lessonId);
                if (!originalLesson) throw new Error('Aula n√£o encontrada');
                
                // Criar nova data (pr√≥ximo dia √∫til)
                const today = new Date();
                const nextDay = new Date(today);
                nextDay.setDate(today.getDate() + 1);
                
                // Criar c√≥pia da aula
                const replicatedLesson = {
                    ...originalLesson,
                    date: nextDay.toISOString().split('T')[0]
                };
                
                delete replicatedLesson.id;
                
                await saveLessonPlan(replicatedLesson);
                
                alert('Aula replicada com sucesso!');
                loadPlans(); // Recarregar lista
                
            } catch (error) {
                console.error('Erro ao replicar aula:', error);
                alert('Erro ao replicar aula: ' + error.message);
            }
        }

        // Logout
        function logout() {
            signOutUser();
        }

        // Fun√ß√µes do Gemini AI
        function openGeminiModal() {
            console.log('Abrindo modal do Gemini');
            loadGeminiConfig();
            document.getElementById('geminiModal').classList.remove('hidden');
        }

        function closeGeminiModal() {
            console.log('Fechando modal do Gemini');
            document.getElementById('geminiModal').classList.add('hidden');
        }
        
        function loadGeminiConfig() {
            const apiKey = localStorage.getItem('gemini_api_key');
            if (apiKey) {
                document.getElementById('geminiApiKey').value = apiKey;
                showGeminiStatus('‚úÖ API Key configurada', 'success');
            }
        }
        
        function saveGeminiConfig() {
            const apiKey = document.getElementById('geminiApiKey').value.trim();
            
            if (!apiKey) {
                alert('Digite sua API Key do Gemini');
                return;
            }
            
            localStorage.setItem('gemini_api_key', apiKey);
            showGeminiStatus('‚úÖ API Key salva com sucesso!', 'success');
            
            setTimeout(() => {
                closeGeminiModal();
            }, 1500);
        }
        
        async function testGeminiConnection() {
            const apiKey = document.getElementById('geminiApiKey').value.trim();
            
            if (!apiKey) {
                alert('Digite sua API Key primeiro');
                return;
            }
            
            showGeminiStatus('üîÑ Testando conex√£o...', 'loading');
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: "Responda apenas: 'Conex√£o OK'"
                            }]
                        }]
                    })
                });
                
                if (response.ok) {
                    showGeminiStatus('‚úÖ Conex√£o bem-sucedida!', 'success');
                } else {
                    const error = await response.json();
                    showGeminiStatus(`‚ùå Erro: ${error.error?.message || 'API Key inv√°lida'}`, 'error');
                }
                
            } catch (error) {
                console.error('Erro ao testar Gemini:', error);
                showGeminiStatus('‚ùå Erro de conex√£o. Verifique sua internet.', 'error');
            }
        }
        
        function showGeminiStatus(message, type) {
            const statusDiv = document.getElementById('geminiStatus');
            statusDiv.className = `p-3 rounded-lg text-sm ${
                type === 'success' ? 'bg-green-50 text-green-700 border border-green-200' :
                type === 'error' ? 'bg-red-50 text-red-700 border border-red-200' :
                'bg-blue-50 text-blue-700 border border-blue-200'
            }`;
            statusDiv.textContent = message;
            statusDiv.classList.remove('hidden');
        }
        
        async function generateAISuggestion() {
            const apiKey = localStorage.getItem('gemini_api_key');
            
            if (!apiKey) {
                alert('Configure sua API Key do Gemini primeiro! Clique em "Configurar IA"');
                return;
            }
            
            // Coletar dados do formul√°rio
            const subject = document.querySelector('select[name="subject"]').value;
            const classYear = document.querySelector('select[name="class"]').value;
            const duration = document.querySelector('select[name="duration"]').value;
            const habilidade = document.querySelector('select[name="habilidade"]').value;
            
            if (!subject || !classYear) {
                alert('Selecione a disciplina e o ano primeiro');
                return;
            }
            
            const btn = document.getElementById('aiSuggestionBtn');
            const resultDiv = document.getElementById('aiSuggestionResult');
            
            btn.textContent = 'üîÑ Gerando...';
            btn.disabled = true;
            
            try {
                const prompt = `
Como especialista em educa√ß√£o do Ensino Fundamental 1, crie uma sugest√£o de aula para:

üìö Disciplina: ${subject}
üë• Ano: ${classYear}
‚è∞ Dura√ß√£o: ${duration} hora(s)/aula
üéØ Habilidade BNCC: ${habilidade || 'N√£o especificada'}

Forne√ßa:
1. **Objetivo da Aula** (1-2 frases)
2. **Conte√∫do Principal** (t√≥picos a abordar)
3. **Atividades Sugeridas** (2-3 atividades pr√°ticas)
4. **Recursos Necess√°rios** (materiais)
5. **Avalia√ß√£o** (como verificar o aprendizado)

Seja pr√°tico, criativo e adequado √† faixa et√°ria. M√°ximo 300 palavras.
                `;
                
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });
                
                if (!response.ok) {
                    throw new Error('Erro na API do Gemini');
                }
                
                const data = await response.json();
                const suggestion = data.candidates[0].content.parts[0].text;
                
                resultDiv.innerHTML = `
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <h4 class="font-medium text-orange-800">ü§ñ Sugest√£o da IA:</h4>
                            <button onclick="useAISuggestion()" class="text-xs bg-orange-500 text-white px-2 py-1 rounded hover:bg-orange-600">
                                Usar Sugest√£o
                            </button>
                        </div>
                        <div class="text-sm text-gray-700 whitespace-pre-line" id="aiSuggestionText">${suggestion}</div>
                    </div>
                `;
                resultDiv.classList.remove('hidden');
                
            } catch (error) {
                console.error('Erro ao gerar sugest√£o:', error);
                resultDiv.innerHTML = `
                    <div class="text-red-600 text-sm">
                        ‚ùå Erro ao gerar sugest√£o. Verifique sua API Key e tente novamente.
                    </div>
                `;
                resultDiv.classList.remove('hidden');
            } finally {
                btn.textContent = 'ü§ñ Sugerir com IA';
                btn.disabled = false;
            }
        }
        
        function useAISuggestion() {
            const suggestionText = document.getElementById('aiSuggestionText').textContent;
            const contentTextarea = document.querySelector('textarea[name="content"]');
            contentTextarea.value = suggestionText;
            
            // Esconder a sugest√£o
            document.getElementById('aiSuggestionResult').classList.add('hidden');
        }

        // Fun√ß√µes de supervis√£o (Coordena√ß√£o/Dire√ß√£o)
        function openSupervisaoModal() {
            console.log('Abrindo supervis√£o');
            document.getElementById('supervisaoModal').classList.remove('hidden');
            loadSemanarios();
        }
        
        function closeSupervisaoModal() {
            document.getElementById('supervisaoModal').classList.add('hidden');
        }
        
        async function loadSemanarios() {
            try {
                // Simular carregamento de seman√°rios de todos os professores
                const container = document.getElementById('semanariosContainer');
                container.innerHTML = `
                    <div class="text-center py-8">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div>
                        <p class="text-gray-600">Carregando seman√°rios...</p>
                    </div>
                `;
                
                // Simular dados (em produ√ß√£o, buscar do Firebase)
                setTimeout(() => {
                    container.innerHTML = `
                        <div class="space-y-4">
                            <div class="border rounded-lg p-4 bg-white">
                                <div class="flex justify-between items-start mb-2">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Prof. Maria Silva</h4>
                                        <p class="text-sm text-gray-600">Matem√°tica - 3¬∫ ano A - 15/01/2024</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded">Pendente</span>
                                        <button onclick="openDevolutiva('maria_silva', 'Matem√°tica - 3¬∫ ano A')" 
                                                class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm">
                                            üìù Devolutiva
                                        </button>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700">N√∫meros decimais - Introdu√ß√£o aos d√©cimos</p>
                                <p class="text-xs text-purple-600 mt-1">EF03MA02 - Identificar caracter√≠sticas do sistema de numera√ß√£o decimal</p>
                            </div>
                            
                            <div class="border rounded-lg p-4 bg-white">
                                <div class="flex justify-between items-start mb-2">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Prof. Jo√£o Santos</h4>
                                        <p class="text-sm text-gray-600">Portugu√™s - 2¬∫ ano B - 15/01/2024</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">‚úÖ Aprovado</span>
                                        <button onclick="openDevolutiva('joao_santos', 'Portugu√™s - 2¬∫ ano B')" 
                                                class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm">
                                            üìù Ver Devolutiva
                                        </button>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700">Leitura e interpreta√ß√£o de textos narrativos</p>
                                <p class="text-xs text-purple-600 mt-1">EF02LP04 - Ler e compreender textos narrativos</p>
                            </div>
                        </div>
                    `;
                }, 1000);
                
            } catch (error) {
                console.error('Erro ao carregar seman√°rios:', error);
            }
        }
        
        function openDevolutiva(professor, aula) {
            document.getElementById('devolutivaProfessor').textContent = professor.replace('_', ' ');
            document.getElementById('devolutivaAula').textContent = aula;
            document.getElementById('devolutivaModal').classList.remove('hidden');
        }
        
        function closeDevolutivaModal() {
            document.getElementById('devolutivaModal').classList.add('hidden');
        }
        
        async function saveDevolutiva() {
            try {
                const status = document.getElementById('devolutivaStatus').value;
                const obs = document.getElementById('devolutivaObs').value;
                
                // Aqui salvaria no Firebase
                console.log('Salvando devolutiva:', { status, obs });
                
                alert('Devolutiva salva com sucesso!');
                closeDevolutivaModal();
                loadSemanarios(); // Recarregar lista
                
            } catch (error) {
                console.error('Erro ao salvar devolutiva:', error);
                alert('Erro ao salvar devolutiva');
            }
        }
        
        // Mostrar hor√°rios do professor
        async function showHorarios() {
            try {
                const user = firebase.auth().currentUser;
                if (!user) return;
                
                const userSubjects = await getUserSubjects(user.uid);
                const userTurmas = await getUserTurmas(user.uid);
                
                const contentArea = document.getElementById('contentArea');
                
                // Criar grade de hor√°rios
                const horariosGrid = `
                    <div class="bg-white rounded-lg shadow">
                        <div class="px-4 py-5 sm:p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">üïê Minha Grade de Hor√°rios</h3>
                            
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Hor√°rio</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Segunda</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ter√ßa</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Quarta</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Quinta</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Sexta</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        ${horariosDisponiveis.map(horario => `
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${horario}</td>
                                                ${diasSemana.map(dia => {
                                                    const disciplina = userSubjects.find(s => s.dias && s.dias.includes(dia) && s.horario === horario);
                                                    return `
                                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                            ${disciplina ? `
                                                                <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">
                                                                    ${disciplina.name}
                                                                </div>
                                                            ` : '-'}
                                                        </td>
                                                    `;
                                                }).join('')}
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="mt-6">
                                <h4 class="font-medium text-gray-900 mb-3">üìö Minhas Turmas:</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    ${userTurmas.map(turma => `
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <h5 class="font-medium text-gray-900">${turma.nome}</h5>
                                            <p class="text-sm text-gray-600">${turma.ano}</p>
                                            <p class="text-xs text-gray-500">${turma.alunos} alunos</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                contentArea.innerHTML = horariosGrid;
                
            } catch (error) {
                console.error('Erro ao carregar hor√°rios:', error);
            }
        }
        
        // Fun√ß√µes para coordena√ß√£o/dire√ß√£o
        function loadRelatorios() {
            const contentArea = document.getElementById('contentArea');
            contentArea.innerHTML = `
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">üìä Relat√≥rios</h3>
                    <p class="text-gray-600">Funcionalidade em desenvolvimento...</p>
                </div>
            `;
        }
        
        function loadProfessores() {
            const contentArea = document.getElementById('contentArea');
            contentArea.innerHTML = `
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">üë®‚Äçüè´ Professores</h3>
                    <p class="text-gray-600">Lista de professores em desenvolvimento...</p>
                </div>
            `;
        }

        // Handler do formul√°rio
        document.getElementById('newPlanForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            console.log('Formul√°rio enviado');
            
            try {
                const formData = new FormData(e.target);
                const planData = {
                    subject: formData.get('subject'),
                    turma: formData.get('turma'),
                    class: formData.get('class'),
                    date: formData.get('date'),
                    time: formData.get('time'),
                    duration: formData.get('duration'),
                    habilidade: formData.get('habilidade'),
                    content: formData.get('content')
                };
                
                await saveLessonPlan(planData);
                closeNewPlanModal();
                alert('Aula salva com sucesso!');
                
            } catch (error) {
                console.error('Erro ao salvar:', error);
                alert('Erro ao salvar: ' + error.message);
            }
        });
        
        // Fun√ß√µes simuladas do Firebase (para funcionar sem conex√£o)
        async function getUserTurmas(userId) {
            const turmas = localStorage.getItem(`turmas_${userId}`);
            return turmas ? JSON.parse(turmas) : [];
        }
        
        async function saveUserTurmas(userId, turmas) {
            localStorage.setItem(`turmas_${userId}`, JSON.stringify(turmas));
            return true;
        }
        
        async function getUserSubjects(userId) {
            const subjects = localStorage.getItem(`subjects_${userId}`);
            return subjects ? JSON.parse(subjects) : [];
        }
        
        async function saveUserSubjects(userId, subjects) {
            localStorage.setItem(`subjects_${userId}`, JSON.stringify(subjects));
            return true;
        }
        
        async function getLessonPlans(userId) {
            const plans = localStorage.getItem(`plans_${userId}`);
            return plans ? JSON.parse(plans) : [];
        }
        
        async function saveLessonPlan(planData) {
            const user = firebase.auth().currentUser;
            if (!user) throw new Error('Usu√°rio n√£o autenticado');
            
            const plans = await getLessonPlans(user.uid);
            const newPlan = {
                ...planData,
                id: Date.now().toString(),
                userId: user.uid,
                createdAt: new Date().toISOString()
            };
            
            plans.push(newPlan);
            localStorage.setItem(`plans_${user.uid}`, JSON.stringify(plans));
            return newPlan;
        }
        
        async function getLessonPlan(planId) {
            const user = firebase.auth().currentUser;
            if (!user) return null;
            
            const plans = await getLessonPlans(user.uid);
            return plans.find(p => p.id === planId);
        }
        
        // Fun√ß√µes de autentica√ß√£o simuladas
        async function signInUser(email, password) {
            // Simular login (em produ√ß√£o usar Firebase Auth)
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (email && password) {
                        resolve({ email, uid: 'user_' + email.replace('@', '_').replace('.', '_') });
                    } else {
                        reject(new Error('Credenciais inv√°lidas'));
                    }
                }, 1000);
            });
        }
        
        function signOutUser() {
            localStorage.clear();
            window.location.href = 'index.html';
        }

        // Inicializar quando a p√°gina carregar
        window.addEventListener('load', initializeDashboard);
        
        console.log('=== SCRIPT CARREGADO ===');
    </script>
</body>
</html>



